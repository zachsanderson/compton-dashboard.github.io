<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link href="dashboard.css" rel="stylesheet">
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript">

      // Load the Visualization API and the piechart package.
      google.charts.load('current', {'packages':['table', 'corechart', 'gauge']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawSignedContractsTable);
      google.charts.setOnLoadCallback(drawTotalSoldChart);
      google.charts.setOnLoadCallback(drawTotalBilledChart);
      google.charts.setOnLoadCallback(drawTotalBilledYearChart);
      google.charts.setOnLoadCallback(drawFinalInspectionsTable);
      google.charts.setOnLoadCallback(drawCloseoutTable);
      google.charts.setOnLoadCallback(drawMarginTable);
      google.charts.setOnLoadCallback(drawARTable);
      //google.charts.setOnLoadCallback(drawGauge);

      // Callback that creates and populates a data table, 
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawSignedContractsTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project');
        data.addColumn('number', 'Amount');
        data.addColumn('datetime', 'Date');
        data.addRows([
            ['Crimson', {v: 545900.32, f: '$545,900.32'}, {v:new Date(2020,1,3), f: '1/3/2020'}],
            ['Yokoso LL', {v: 9754.80, f: '$9,754.80'}, {v:new Date(2020,1,17), f: '1/17/2020'}],
            ['Yokoso Water', {v: 59568.30, f: '$59568.30'}, {v:new Date(2020,1,17), f: '1/17/2020'}],
            ['1037 Tenant', {v: 489463.19, f: '$489,463.19'}, {v:new Date(2020,1,21), f: '1/21/2020'}],            
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});

        
      }

      function drawTotalSoldChart() {
        var data = google.visualization.arrayToDataTable([
        ['Time', 'Current', { role: 'style' }, 'Goal', { role: 'style' } ],
        ['', 1104686.6, 'gold', 12895313.4, 'black']
      ]);

      var options = {
        width: 600,
        height: 200,
        legend: 'none',
        bar: { groupWidth: '80%' },
        isStacked: true,
        animation: {duration: 1000, easing: 'out',},
        'chartArea': {'width': '100%', 'height': '80%'},
        hAxis: {minValue: 0, maxValue: 15000000, ticks: [0, 14000000]}
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options);

        
      }

      function drawTotalBilledChart() {
        var data = google.visualization.arrayToDataTable([
        ['Time', 'Current', { role: 'style' }, 'Goal', { role: 'style' } ],
        ['', 300000, 'gold', 2700000, 'black']
      ]);

      var options = {
        width: 600,
        height: 200,
        legend: 'none',
        bar: { groupWidth: '80%' },
        isStacked: true,
        animation: {duration: 1000, easing: 'out',},
        'chartArea': {'width': '100%', 'height': '80%'},
        hAxis: {minValue: 0, maxValue: 4000000, ticks: [0, 3000000]}
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('billed_chart_div'));
        chart.draw(data, options);

        
      }

      function drawTotalBilledYearChart() {
        var data = google.visualization.arrayToDataTable([
        ['Time', 'Current', { role: 'style' }, 'Goal', { role: 'style' } ],
        ['', 300000, 'gold', 13700000, 'black']
      ]);

      var options = {
        width: 1600,
        height: 200,
        legend: 'none',
        bar: { groupWidth: '100%' },
        isStacked: true,
        animation: {duration: 1000, easing: 'out',},
        'chartArea': {'width': '100%', 'height': '80%'},
        hAxis: {minValue: 0, maxValue: 14000000}
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('billed_year_chart_div'));
        chart.draw(data, options);

        
      }

      function drawFinalInspectionsTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project');
        data.addColumn('datetime', 'Date');
        data.addRows([
            ["Taft's Brewpourium", {v:new Date(2020,1,29), f: '1/29/2020'}],
            ["GBQ", {v:new Date(2020,2,6), f: '2/6/2020'}],
            ["18th and Forest", {v:new Date(2020,2,14), f: '2/14/2020'}],
            ["Yenkin Majestic", {v:new Date(2020,2,14), f: '2/14/2020'}],
            ["Welsh Hills", {v:new Date(2020,2,14), f: '2/14/2020'}],
            ["Sideswipe Brewing", {v:new Date(2020,3,27), f: '3/27/2020'}],
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('final_inspections_table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});

        
      }

      function drawCloseoutTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project');        
        data.addRows([
            ["Deshler"],
            ["18th and Forest"],
            ["The Woodbury"],
            ["Duck Donuts"],
            ["Welsh Hills"],
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('closeout_table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});

        
      }

      function drawMarginTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', '');
        data.addColumn('string', 'This Quarter');        
        data.addColumn('string', 'Last December');        
        data.addColumn('string', 'YTD');        
        data.addRows([
            ["Gross Margin", "-", "10.98%", "11.48%"],            
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('margin_table_div'));
        table.draw(data, {showRowNumber: false, width: '100%', height: '100%'});

        
      }

      function drawARTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Job');
        data.addColumn('string', '0-30');        
        data.addColumn('string', '31-60');        
        data.addColumn('string', '61-90');        
        data.addColumn('string', '90+');        
        data.addRows([
            ["COVA", "", "", "", "$136,585"],
            ["Yenkin Majestic", "$251,560", "", "", ""],
            ["18th and Forest", , , "$28,909", "$45,758"],
            ["Welsh Hills", , , , "$54,816"],
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('ar_table_div'));
        table.draw(data, {showRowNumber: false, width: '100%', height: '100%'});

        
      }

      function drawGauge() {
        var data = new google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['In Contract, Not Billed', 5155000]
        ]);

        var options = {
          width: 400, height: 400, greenFrom: 4000000, greenTo: 6000000, minorTicks: 1000000, min: 0, max: 10000000
        };

        var chart = new google.visualization.Gauge(document.getElementById('gauge_div'));
        // chart.draw(data, options);
      }


      $(document).ready( function() {
        var TIME_PER_PAGE = 20000;
            var pages = $(".page"),
                numPages = pages ? pages.length : 0;
                i = -1;

            function nextPage() {
                if (i >= 0)
                    $(pages[i]).removeClass('currentPage');
                
                i = ++i % numPages;
                
                $(pages[i]).addClass('currentPage');
                
                setTimeout(nextPage, TIME_PER_PAGE);
            }

           nextPage();
            
        });


    </script>
  </head>

  <body>
      <div class="page">
        <h1>Sales</h1>
        <div class="leftside">
        <h2>Q1 Signed Contracts</h2>
        <div id="table_div" style="width:900; height:600"></div>
        </div>
        <div class="rightside"><h2>Total number of contracts</h2>
        <p class="callout"><b>4</b> of 35 (goal)</p>
        <h2>Total $ sold this year</h2>
        <div id="chart_div" style="width:400; height:200"></div>
        <h2><b>$1,104,686.60</b> of $14 million (goal)</h2>
        </div>
        
      </div>
      <div class="page">
        <h1>Production</h1>
        <div class="leftside">
        <h2>Total Billed this Quarter</h2>
        <div id="billed_chart_div" style="width:400; height:200"></div>
        <h2><b>$300,234</b> of $3 million (goal)</b></h2>      
        
        </div>
        <div class="rightside">
            <h2>In Contract Not Billed</h2>
            <p class="callout"><b>$5,154,981</b></p>
            
        </div>
        <div class="clear"></div>
        <h2>Total Billed This Year</h2>  
        <div id="billed_year_chart_div" style="width:400; height:200"></div>
        <h2><b>$300,234</b> of $14 million (goal)</b></h2>
        
      </div>
      <div class="page">
        <h1>Job Statuses</h1>
        <div class="leftside" style="width: 800px">
            <h2>Jobs to Final Inspect this Quarter</h2>
            <div id="final_inspections_table_div" style="width:700; height:600"></div>
        </div> 
        <div class="rightside" style="margin-left: 900px">
            <h2>Jobs to Close Out</h2>
            <div id="closeout_table_div" style="width:700; height:600"></div>
        </div>              
        
        
      </div>
      <div class="page">
        <h1>Admin</h1>
        <div class="leftside">
        <div id="margin_table_div" style="width:1000; height:180"></div>
       
            <h2>AR by Job</h2>
            <div id="ar_table_div" style="width:1000; height:450"></div>
        </div>
        <div class="rightside">
            <h2>AP Total</h2>
            <p class="callout"><b>$456,364</b></p>
            <h2>AR Total</h2>
            <p class="callout"><b>$1,085,677</b></p>            
        </div>

        
      </div> 
      <div id="watermark"><img src="comptonlogo.jpg"></div>
  </body>
</html>