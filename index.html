<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link href="dashboard.css" rel="stylesheet">
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript">

      // Load the Visualization API and the piechart package.
      google.charts.load('current', {'packages':['table', 'corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawSignedContractsTable);
      google.charts.setOnLoadCallback(drawTotalSoldChart);

      // Callback that creates and populates a data table, 
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawSignedContractsTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project');
        data.addColumn('number', 'Amount');
        data.addColumn('datetime', 'Date');
        data.addRows([
            ['Crimson', {v: 545900.32, f: '$545,900.32'}, {v:new Date(2020,1,3), f: '1/3/2020'}],
            ['Yokoso LL', {v: 9754.80, f: '$9,754.80'}, {v:new Date(2020,1,17), f: '1/17/2020'}],
            ['Yokoso Water', {v: 59568.30, f: '$59568.30'}, {v:new Date(2020,1,17), f: '1/17/2020'}],
            ['1037 Tenant', {v: 489463.19, f: '$489,463.19'}, {v:new Date(2020,1,21), f: '1/21/2020'}],            
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});

        
      }

      function drawTotalSoldChart() {
        var data = google.visualization.arrayToDataTable([
        ['Time', 'Current', 'Goal', { role: 'annotation' } ],
        ['', 1104686.61, 12895313.4, '']
      ]);

      var options = {
        width: 600,
        height: 200,
        legend: { position: 'top', maxLines: 3 },
        bar: { groupWidth: '100%' },
        isStacked: true
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options);

        
      }


      $(document).ready( function() {
        var TIME_PER_PAGE = 2000;
            var pages = $(".page"),
                numPages = pages ? pages.length : 0;
                i = -1;

            function nextPage() {
                if (i >= 0)
                    $(pages[i]).removeClass('currentPage');
                
                i = ++i % numPages;
                
                $(pages[i]).addClass('currentPage');
                
                setTimeout(nextPage, TIME_PER_PAGE);
            }

            nextPage();
            
        });


    </script>
  </head>

  <body>
      <div class="page">
        <h1>Sales</h1>
        <div class="leftside">
        <h2>Q1 Signed Contracts</h2>
        <div id="table_div" style="width:900; height:600"></div>
        </div>
        <div class="rightside"><h2>Total number of contracts</h2>
        <p class="callout"><b>4</b> of 35 (goal)</p>
        <div id="chart_div" style="width:400; height:200"></div>
        </div>
        
      </div>
      <div class="page">
        <h1>Production</h1>
        <h2>Total Billed this Quarter</h2>
        <h2>In Contract Not Billed</h2>
        <h2>Total Billed This Year</h2>  
        
      </div>
      <div class="page">
        <h1>Final Inspections</h1>       
        
        
      </div>
      <div class="page">
        <h1>Admin</h1>
        
        
      </div>
  </body>
</html>