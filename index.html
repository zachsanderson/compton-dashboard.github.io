<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Oswald&display=swap" rel="stylesheet">
    <link href="dashboard.css" rel="stylesheet">
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript">

      // Load the Visualization API and the piechart package.
      google.charts.load('current', {'packages':['table', 'corechart', 'gauge']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawSignedContractsTable);
      google.charts.setOnLoadCallback(drawOpportunitiesTable);
      google.charts.setOnLoadCallback(drawTotalSoldChart);
      google.charts.setOnLoadCallback(drawTotalBilledChart);
      google.charts.setOnLoadCallback(drawTotalBilledYearChart);
      google.charts.setOnLoadCallback(drawMonthlyBilledChart);
      google.charts.setOnLoadCallback(drawActiveJobsTable);
      google.charts.setOnLoadCallback(drawFinalInspectionsTable);
      google.charts.setOnLoadCallback(drawCloseoutTable);
      google.charts.setOnLoadCallback(drawMarginTable);
      google.charts.setOnLoadCallback(drawARTable);
      //google.charts.setOnLoadCallback(drawGauge);

      // Callback that creates and populates a data table, 
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawSignedContractsTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project');
        data.addColumn('number', 'Amount');
        data.addColumn('datetime', 'Date');
        data.addRows([
            ['Crimson', {v: 545900.32, f: '$545,900.32'}, {v:new Date(2020,1,3), f: '1/3/2020'}],
            ['Yokoso LL', {v: 9754.80, f: '$9,754.80'}, {v:new Date(2020,1,17), f: '1/17/2020'}],
            ['Yokoso Water', {v: 59568.30, f: '$59568.30'}, {v:new Date(2020,1,17), f: '1/17/2020'}],
            ['1037 Tenant', {v: 489463.19, f: '$489,463.19'}, {v:new Date(2020,1,21), f: '1/21/2020'}],            
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});

        
      }

      function drawOpportunitiesTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project');       
        data.addRows([
            ['Legacy Maintenance Services'],
            ['Innerspace'],
            ['You Paint Pottery'],
            ['Coastal Local Seafood'],            
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('opportunities_table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%', allowHtml: true, cssClassNames: {headerCell: 'noHeader'}});

        
      }

      function drawTotalSoldChart() {
        var data = google.visualization.arrayToDataTable([
        ['Time', 'Current', { role: 'style' }, 'Goal', { role: 'style' }, 'Stretch', { role: 'style' }  ],
        ['', 1104686.6, 'gold', 12895313.4, 'black', 1000000, 'gray']
      ]);

      var options = {
        width: 600,
        height: 200,
        legend: 'none',
        bar: { groupWidth: '80%' },
        isStacked: true,
        animation: {duration: 1000, easing: 'out',},
        'chartArea': {'width': '100%', 'height': '80%'},
        hAxis: {minValue: 0, maxValue: 15000000, ticks: [0, 14000000]}
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options);

        
      }

      function drawTotalBilledChart() {
        var data = google.visualization.arrayToDataTable([
        ['Time', 'Current', { role: 'style' }, 'Goal', { role: 'style' }, 'Stretch', { role: 'style' } ],
        ['', 300000, 'gold', 2700000, 'black', 1000000, 'gray']
      ]);

      var options = {
        width: 600,
        height: 200,
        legend: 'none',
        bar: { groupWidth: '80%' },
        isStacked: true,
        animation: {duration: 1000, easing: 'out',},
        'chartArea': {'width': '100%', 'height': '80%'},
        hAxis: {minValue: 0, maxValue: 4000000, ticks: [0, 3000000]}
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('billed_chart_div'));
        chart.draw(data, options);

        
      }

      function drawTotalBilledYearChart() {
        var data = google.visualization.arrayToDataTable([
        ['Time', 'Current', { role: 'style' }, 'Goal', { role: 'style' }, 'Stretch', { role: 'style' } ],
        ['', 300000, 'gold', 13700000, 'black', 1000000, 'gray']
      ]);

      var options = {
        width: 1600,
        height: 200,
        legend: 'none',
        bar: { groupWidth: '100%' },
        isStacked: true,
        animation: {duration: 1000, easing: 'out',},
        'chartArea': {'width': '100%', 'height': '80%'},
        hAxis: {minValue: 0, maxValue: 14000000, ticks: [0, 14000000]}
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('billed_year_chart_div'));
        chart.draw(data, options);

        
      }

      function drawMonthlyBilledChart() {
        var data = google.visualization.arrayToDataTable([
          ['Month', 'Billed'],
          ['January', 300000],
          ['February', 375000],        
          ['March', 0],
          ['April', 0],
          ['May', 0],
          ['June', 0],
          ['July', 0],
          ['August', 0],
          ['September', 0],
          ['October', 0],
          ['November', 0],
          ['December', 0],
      ]);

      var options = {
        width: 1000,
        height: 800,
        legend: 'none',
        vAxis: {minValue: 0},        
      };

        
        
        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.LineChart(document.getElementById('monthly_billed_chart_div'));
        chart.draw(data, options);

        
      }

      function drawActiveJobsTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Number');
        data.addColumn('string', 'Project');
        data.addColumn('string', 'PM');
        data.addRows([
            ['19009', 'Oxide', 'Josh'],
            ['19026', 'Yenkin', 'Jim'],
            ['19027', 'Waterloo', 'Harold'],
            ['19029', 'Brothers Drake', 'Mike'],
            ['19030', 'Yokoso', 'Jeff'],
            ['19031', '1037 Parsons', 'Jim'],
            ['19032', 'GBQ', 'Jeff'],
            ['20001', 'Crimson', 'Jeff'],
            ['20002', 'Yokoso Water', 'Jeff'],
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('active_jobs_table_div'));
        table.draw(data, {showRowNumber: false, width: '100%', height: '100%'});

        
      }

      function drawFinalInspectionsTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project');
        data.addColumn('datetime', 'Date');
        data.addRows([
            ["Taft's Brewpourium", {v:new Date(2020,1,29), f: '1/29/2020'}],
            ["GBQ", {v:new Date(2020,2,6), f: '2/6/2020'}],
            ["18th and Forest", {v:new Date(2020,2,14), f: '2/14/2020'}],
            ["Yenkin Majestic", {v:new Date(2020,2,14), f: '2/14/2020'}],
            ["Welsh Hills", {v:new Date(2020,2,14), f: '2/14/2020'}],
            ["Sideswipe Brewing", {v:new Date(2020,3,27), f: '3/27/2020'}],
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('final_inspections_table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});

        
      }

      function drawCloseoutTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Project'); 
        data.addColumn('string', 'Anticipated Date');  
        data.addColumn('string', 'Completed');       
        data.addRows([
            ["Deshler", "2/15/2020", "\u2611"],
            ["18th and Forest", "2/22/2020", "\u2611"],
            ["The Woodbury", "2/15/2020", "\u2610"],
            ["Duck Donuts", "2/15/2020", "\u2610"],
            ["Welsh Hills", "2/15/2020", "\u2610"],
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('closeout_table_div'));
        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});

        
      }

      function drawMarginTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', '');
        data.addColumn('string', 'This Quarter');        
        data.addColumn('string', 'Last December');        
        data.addColumn('string', 'YTD');        
        data.addRows([
            ["Gross Margin", "-", "10.98%", "11.48%"],            
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('margin_table_div'));
        table.draw(data, {showRowNumber: false, width: '100%', height: '100%'});

        
      }

      function drawARTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Job');
        data.addColumn('string', '31+');                   
        data.addRows([
            ["COVA", "$136,585"],
            ["18th and Forest", "$74,667"],
            ["Welsh Hills", "$54,816"],
        ]);

        
        
        // Instantiate and draw our chart, passing in some options.
        var table = new google.visualization.Table(document.getElementById('ar_table_div'));
        table.draw(data, {showRowNumber: false, width: '100%', height: '100%'});

        
      }

      function drawGauge() {
        var data = new google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['In Contract, Not Billed', 5155000]
        ]);

        var options = {
          width: 400, height: 400, greenFrom: 4000000, greenTo: 6000000, minorTicks: 1000000, min: 0, max: 10000000
        };

        var chart = new google.visualization.Gauge(document.getElementById('gauge_div'));
        // chart.draw(data, options);
      }


      $(document).ready( function() {
        var TIME_PER_PAGE = 20000;
            var pages = $(".page"),
                numPages = pages ? pages.length : 0;
                i = -1;

            function nextPage() {
                if (i >= 0)
                    $(pages[i]).removeClass('currentPage');
                
                i = ++i % numPages;
                
                $(pages[i]).addClass('currentPage');
                
                setTimeout(nextPage, TIME_PER_PAGE);
            }

           nextPage();
            
        });


    </script>
  </head>

  <body>
      <div class="page">
        <h1>Sales</h1>
        <div class="leftside">
        <h2>Q1 Signed Contracts &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp;  &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp;Rock = 6 total</h2>
        <div id="table_div" style="width:900; height:350"></div>
        <h2>Total number of contracts</h2>
        <p><b class="callout">4 </b><span class="asof"> of 35 (goal)</span></p>
        </div>
        <div class="rightside">
        <h2>Nate's Opportunity List</h2>
        <div id="opportunities_table_div" style="width:600; height:250"></div>                
        <h2>Total $ sold this year</h2>
        <div id="chart_div" style="width:400; height:200"></div>
        <p><b class="callout">$1,104,687 </b><span class="asof"> of $14 million (goal)</span></p>  
        </div>
        
      </div>
      <div class="page">        
        <div class="productionschedule"></div>
      </div>
      <div class="page">
        <h1>Production</h1>
        <div class="leftside">
        <h2>Total Billed this Quarter</h2>
        <div id="billed_chart_div" style="width:400; height:200"></div>
        <h2><b>$300,234</b> of $3 million (goal)</b></h2>      
        
        </div>
        <div class="rightside">
            <h2>In Contract Not Billed</h2>
            <p class="callout"><b>$5,154,981</b></p>
            
        </div>
        <div class="clear"></div>
        <h2>Total Billed This Year</h2>  
        <div id="billed_year_chart_div" style="width:400; height:200"></div>
        <h2><b>$300,234</b> of $14 million (goal)</b></h2>
        
      </div>
      <div class="page">
        <h1>Production</h1>
        <div class="leftside">
          <h2>Total Billed per Month</h2>
          <div id="monthly_billed_chart_div" style="width:900; height:900"></div>
        
        </div>
        <div class="rightside">
          <h2>Active, Billable Jobs</h2>
          <div id="active_jobs_table_div" style="width:550; height:700"></div>
        
      </div>
      <div class="page">
        <h1>Job Statuses</h1>
        <div class="leftside" style="width: 800px">
            <h2>Jobs to Final Inspect this Quarter</h2>
            <div id="final_inspections_table_div" style="width:700; height:600"></div>
        </div> 
        <div class="rightside" style="margin-left: 900px">
            <h2>Jobs to Close Out</h2>
            <div id="closeout_table_div" style="width:700; height:600"></div>
        </div>              
        
        
      </div>
      <div class="page">
        <h1>Finance</h1>
        <div class="leftside">
        <div id="margin_table_div" style="width:1000; height:180"></div>
       
            <h2>AR by Job</h2>
            <div id="ar_table_div" style="width:1000; height:450"></div>
        </div>
        <div class="rightside">
            <h2>AP Total</h2>
            <p><b class="callout">$456,364 </b><span class="asof"> as of 1/31</span></p>
            <h2>AR Total</h2>
            <p><b class="callout">$1,085,677 </b><span class="asof"> as of 1/31</span></p>                       
        </div>

        
      </div> 
      <div id="watermark"><img src="compton_logo_RGB JPEG.jpg"></div>
  </body>
</html>